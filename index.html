import React, { useState, useEffect } from 'react';
import { motion, AnimatePresence } from 'framer-motion';

// --- TYPES & INTERFACES (–¥–ª—è —Å–æ–ª–∏–¥–Ω–æ—Å—Ç–∏ –≤ GitHub) ---
interface GameState {
  id: number;
  name: string;
  logo: string;
  color: string;
  stats: object;
}

// --- –ö–û–®–ï–õ–ï–ö (–°–≤–æ–π –ª–æ–≥–æ—Ç–∏–ø –∏ –∞–Ω–∏–º–∞—Ü–∏—è) ---
const CryptoWallet = () => {
  const [balance, setBalance] = useState(1.4592);
  
  return (
    <motion.div 
      initial={{ scale: 0.8, opacity: 0 }}
      animate={{ scale: 1, opacity: 1 }}
      className="wallet-container"
    >
      {/* –õ–æ–≥–æ—Ç–∏–ø –∫–æ—à–µ–ª—å–∫–∞ - –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —â–∏—Ç */}
      <div className="wallet-logo-wrapper">
        <motion.svg 
          animate={{ rotateY: [0, 180, 360], filter: ["hue-rotate(0deg)", "hue-rotate(360deg)"] }}
          transition={{ duration: 5, repeat: Infinity, ease: "linear" }}
          width="80" height="80" viewBox="0 0 100 100"
        >
          <path d="M50 5 L90 25 V75 L50 95 L10 75 V25 L50 5Z" fill="url(#walletGrad)" />
          <defs>
            <linearGradient id="walletGrad" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stopColor="#00ffcc" />
              <stop offset="100%" stopColor="#3366ff" />
            </linearGradient>
          </defs>
        </motion.svg>
      </div>
      <h2>{balance.toFixed(4)} ETH</h2>
    </motion.div>
  );
};

// --- –ì–õ–ê–í–ù–´–ô –ö–û–ú–ü–û–ù–ï–ù–¢ ---
export default function UltimateHub() {
  const [activeTab, setActiveTab] = useState('menu');

  const games: GameState[] = [
    { id: 1, name: "CyberStrike", logo: "‚ö°", color: "#ff0055", stats: { kills: 120 } },
    { id: 2, name: "NeonDrift", logo: "üèéÔ∏è", color: "#00f2ff", stats: { distance: 5000 } },
    { id: 3, name: "VoidRunner", logo: "üåå", color: "#a100ff", stats: { level: 42 } },
    { id: 4, name: "PixelMiner", logo: "‚õèÔ∏è", color: "#ffaa00", stats: { gold: 1000 } }
  ];

  return (
    <div className="main-layout" style={{ background: '#0a0a0a', color: 'white', minHeight: '100vh', padding: '20px' }}>
      <header>
        <CryptoWallet />
      </header>

      <nav className="game-grid">
        {games.map((game) => (
          <motion.div
            key={game.id}
            whileHover={{ scale: 1.05, boxShadow: `0px 0px 20px ${game.color}` }}
            onClick={() => setActiveTab(`game-${game.id}`)}
            className="game-card"
            style={{ border: `1px solid ${game.color}`, padding: '20px', borderRadius: '15px', cursor: 'pointer' }}
          >
            {/* –õ–æ–≥–æ—Ç–∏–ø—ã –∏–≥—Ä —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π */}
            <motion.div 
              animate={{ y: [0, -10, 0] }} 
              transition={{ duration: 2, repeat: Infinity }}
              style={{ fontSize: '40px' }}
            >
              {game.logo}
            </motion.div>
            <h3>{game.name}</h3>
          </motion.div>
        ))}
      </nav>

      <main className="content-area">
        <AnimatePresence mode="wait">
          {activeTab === 'menu' && (
            <motion.div exit={{ opacity: 0 }}>
              <h1>Welcome to the Hub, Boss</h1>
              <p>–í—ã–±–µ—Ä–∏ –∏–≥—Ä—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ñ–∞—Ä–º–∏—Ç—å...</p>
            </motion.div>
          )}
          {/* –¢—É—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ª–æ–≥–∏–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∏–≥—Ä—ã –Ω–∞ 1000+ —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥–∞—è */}
        </AnimatePresence>
      </main>

      <style jsx>{`
        .game-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 40px; }
        .wallet-container { display: flex; align-items: center; gap: 20px; background: #1a1a1a; padding: 15px; border-radius: 20px; width: fit-content; }
      `}</style>
    </div>
  );
}


// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyBu4aaNbvARCtvRE1SGsNpkHRYAm3NK_I0",
  authDomain: "duels-1fb6b.firebaseapp.com",
  databaseURL: "https://duels-1fb6b-default-rtdb.firebaseio.com",
  projectId: "duels-1fb6b",
  storageBucket: "duels-1fb6b.firebasestorage.app",
  messagingSenderId: "745698956226",
  appId: "1:745698956226:web:27cd811a6633946e85fc5b",
  measurementId: "G-3BS344MXBP"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
