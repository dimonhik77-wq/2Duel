<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Dark Game WebApp</title>

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<style>
    body {
        background: #0b0e11;
        color: #fff;
        font-family: sans-serif;
        overflow: hidden;
    }
    .screen { display: none; height: calc(100vh - 70px); padding: 20px; overflow-y: auto; }
    .active { display: block; }
    .glass {
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 18px;
        backdrop-filter: blur(12px);
    }
    .nav {
        position: fixed; bottom: 0; left: 0; right: 0;
        height: 70px; background: #0b0e11;
        border-top: 1px solid #1a1d22;
        display: flex; justify-content: space-around; align-items: center;
    }
    .nav-btn { opacity: 0.4; text-align: center; font-size: 11px; transition: 0.25s; }
    .nav-btn.active { opacity: 1; transform: scale(1.15); }
    .wheel-wrap {
        width: 260px; height: 260px; margin: 20px auto;
        border-radius: 50%; border: 10px solid #1c2127;
        background: conic-gradient(#d61a81 0% 60%, #6366f1 60% 85%, #06b6d4 85% 100%);
        position: relative;
    }
    .wheel-center {
        position: absolute; top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        width: 85px; height: 85px; background: #000;
        border-radius: 50%; display: flex; align-items: center; justify-content: center;
        font-weight: 900; font-size: 18px;
    }
</style>
</head>

<body>

<!-- LANGUAGE SWITCH -->
<div class="fixed top-2 right-2 z-50">
    <button id="lang-btn" class="glass px-3 py-1 text-xs">RU</button>
</div>

<!-- PVP -->
<div id="screen-pvp" class="screen active">
    <div id="online-text" class="text-center text-green-500 text-xs mb-4"></div>

    <div class="flex gap-2 mb-6">
        <div class="glass p-3 flex-1 text-[10px]">
            @Magikmoney<br><span class="text-blue-400">+0 TON</span>
        </div>
        <div class="glass p-3 flex-1 text-[10px]">
            @giftgambler<br><span class="text-yellow-500">+48k TON</span>
        </div>
    </div>

    <div class="wheel-wrap">
        <div class="wheel-center" id="wheel-timer">00:00</div>
    </div>

    <div class="grid grid-cols-2 gap-3 mt-8">
        <button id="pvp-add" class="glass p-4 text-[11px] font-bold"></button>
        <button id="spin-btn" class="bg-blue-600 p-4 rounded-xl text-[11px] font-bold"></button>
    </div>
</div>

<!-- Games -->
<div id="screen-games" class="screen">
    <h2 id="games-title" class="italic font-black mb-4 uppercase text-xl"></h2>

    <div class="space-y-3">
        <div class="glass p-4 flex justify-between items-center">
            <span id="game-coin"></span>
            <button class="text-blue-400" id="coin-play"></button>
        </div>

        <div class="glass p-4 flex justify-between items-center">
            <span id="game-roulette"></span>
            <button class="text-blue-400" id="roulette-play"></button>
        </div>

        <div class="glass p-4 flex justify-between items-center">
            <span id="game-rps"></span>
            <button class="text-blue-400" id="rps-play"></button>
        </div>
    </div>
</div>

<!-- Profile -->
<div id="screen-profile" class="screen">
    <div class="glass p-6 text-center">
const LANG = {
    ru: {
        online: "‚óè 227 –æ–Ω–ª–∞–π–Ω",
        pvp_add: "+ PVP",
        spin: "üöÄ –°–ü–ò–ù",
        games: "–ò–≥—Ä—ã",
        coin: "ü™ô –ú–æ–Ω–µ—Ç–∫–∞",
        roulette: "üî´ –†—É–ª–µ—Ç–∫–∞",
        rps: "‚úåÔ∏è –ö–∞–º–µ–Ω—å-–ù–æ–∂–Ω–∏—Ü—ã-–ë—É–º–∞–≥–∞",
        play: "–ò–≥—Ä–∞—Ç—å",
        profile_name: "–ò–ì–†–û–ö",
        profile_location: "Stuttgart, DE üá©üá™",
        nav_pvp: "‚öîÔ∏è\nPVP",
        nav_games: "üé∞\n–ò–≥—Ä—ã",
        nav_profile: "üë§\n–ü—Ä–æ—Ñ–∏–ª—å",
        lang_btn: "RU"
    },
    en: {
        online: "‚óè 10 ONLINE",
        pvp_add: "+ PVP",
        spin: "üöÄ SPIN",
        games: "Games",
        coin: "ü™ô Coin Flip",
        roulette: "üî´ Roulette",
        rps: "‚úåÔ∏è RPS",
        play: "PLAY",
        profile_name: "PLAYER",
        profile_location: "Stuttgart, DE üá©üá™",
        nav_pvp: "‚öîÔ∏è\nPVP",
        nav_games: "üé∞\nGAMES",
        nav_profile: "üë§\nPROFILE",
        lang_btn: "EN"
    }
};
/* ====== DARK PREMIUM STYLE ====== */

body {
    background: radial-gradient(circle at top, #11141a 0%, #0b0e11 60%, #050608 100%);
    color: #fff;
    font-family: 'Inter', sans-serif;
    overflow: hidden;
}

/* –°–∫—Ä–æ–ª–ª–±–∞—Ä */
::-webkit-scrollbar {
    width: 6px;
}
::-webkit-scrollbar-thumb {
    background: #1f242d;
    border-radius: 10px;
}

/* –°—Ç–µ–∫–ª—è–Ω–Ω—ã–µ –±–ª–æ–∫–∏ */
.glass {
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 18px;
    backdrop-filter: blur(12px);
    box-shadow: 0 0 25px rgba(0,0,0,0.35);
    transition: 0.25s;
}

.glass:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 35px rgba(0,0,0,0.55);
}

/* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
.nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 70px;
    background: rgba(10,12,15,0.95);
    border-top: 1px solid #1a1d22;
    display: flex;
    justify-content: space-around;
    align-items: center;
    backdrop-filter: blur(10px);
}

.nav-btn {
    opacity: 0.4;
    text-align: center;
    font-size: 11px;
    transition: 0.25s;
    padding: 5px 10px;
    border-radius: 10px;
}

.nav-btn.active {
    opacity: 1;
    transform: scale(1.15);
    background: rgba(255,255,255,0.05);
    box-shadow: 0 0 15px rgba(0,0,0,0.4);
}

/* –ö–Ω–æ–ø–∫–∏ */
button {
    transition: 0.25s;
}

button:active {
    transform: scale(0.95);
}

/* ====== WHEEL ====== */

.wheel-wrap {
    width: 260px;
    height: 260px;
    margin: 20px auto;
    border-radius: 50%;
    border: 10px solid #1c2127;
    position: relative;
    background: conic-gradient(
        #d61a81 0% 60%,
        #6366f1 60% 85%,
        #06b6d4 85% 100%
    );
    box-shadow: 0 0 40px rgba(0,0,0,0.7),
                inset 0 0 25px rgba(0,0,0,0.5);
    transition: 0.4s;
}

.wheel-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 85px;
    height: 85px;
    background: #000;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 900;
    font-size: 18px;
    box-shadow: 0 0 25px rgba(0,0,0,0.6),
                inset 0 0 15px rgba(255,255,255,0.05);
}

/* ====== SCREEN TRANSITIONS ====== */

.screen {
    opacity: 0;
    transform: translateY(20px);
    transition: 0.35s ease;
    display: none;
}

.screen.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
}
/* ============================
   ULTRA PREMIUM ANIMATIONS
   ============================ */

// –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ (iOS style)
function animateScreen(screen) {
    gsap.fromTo(
        screen,
        { opacity: 0, y: 40, filter: "blur(6px)" },
        {
            opacity: 1,
            y: 0,
            filter: "blur(0px)",
            duration: 0.55,
            ease: "expo.out"
        }
    );
}

// –ö–Ω–æ–ø–∫–∞ ‚Äî –ø—Ä—É–∂–∏–Ω–∞ (–∫–∞–∫ –≤ –º–æ–±–∏–ª—å–Ω—ã—Ö –∏–≥—Ä–∞—Ö)
function animateButton(btn) {
    gsap.fromTo(
        btn,
        { scale: 1 },
        {
            scale: 0.88,
            duration: 0.12,
            ease: "expo.in",
            yoyo: true,
            repeat: 1
        }
    );
}

// –ü–æ—è–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ ‚Äî –∫–∞–∫ –≤ –ø—Ä–µ–º–∏—É–º UI
function animateList(items) {
    gsap.fromTo(
        items,
        { opacity: 0, y: 25, filter: "blur(4px)" },
        {
            opacity: 1,
            y: 0,
            filter: "blur(0px)",
            duration: 0.5,
            stagger: 0.07,
            ease: "expo.out"
        }
    );
}

// –ö–æ–ª–µ—Å–æ ‚Äî —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –∫–∞–∑–∏–Ω–æ –≤—Ä–∞—â–µ–Ω–∏–µ
function spinWheel(wheel, callback) {
    const spin = 360 * 8 + Math.floor(Math.random() * 360);

    // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    gsap.fromTo(
        wheel,
        { scale: 1 },
        { scale: 1.03, duration: 0.15, ease: "expo.out", yoyo: true, repeat: 1 }
    );

    // –°–∞–º–æ –≤—Ä–∞—â–µ–Ω–∏–µ
    gsap.to(wheel, {
        rotation: spin,
        duration: 5,
        ease: "expo.out",
        onComplete: () => {
            // –õ—ë–≥–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
            gsap.fromTo(
                wheel,
                { rotation: spin },
                {
                    rotation: spin + 3,
                    duration: 0.15,
                    ease: "power1.inOut",
                    yoyo: true,
                    repeat: 1
                }
            );

            if (callback) callback();
        }
    });
}
/* ============================
   LANGUAGE SYSTEM
   ============================ */

const LANG = {
    ru: {
        online: "‚óè 227 –æ–Ω–ª–∞–π–Ω",
        pvp_add: "+ PVP",
        spin: "üöÄ –°–ü–ò–ù",
        games: "–ò–≥—Ä—ã",
        coin: "ü™ô –ú–æ–Ω–µ—Ç–∫–∞",
        roulette: "üî´ –†—É–ª–µ—Ç–∫–∞",
        rps: "‚úåÔ∏è –ö–∞–º–µ–Ω—å-–ù–æ–∂–Ω–∏—Ü—ã-–ë—É–º–∞–≥–∞",
        play: "–ò–≥—Ä–∞—Ç—å",
        profile_name: "–ò–ì–†–û–ö",
        profile_location: "Stuttgart, DE üá©üá™",
        nav_pvp: "‚öîÔ∏è\nPVP",
        nav_games: "üé∞\n–ò–≥—Ä—ã",
        nav_profile: "üë§\n–ü—Ä–æ—Ñ–∏–ª—å",
        lang_btn: "RU"
    },
    en: {
        online: "‚óè 227 ONLINE",
        pvp_add: "+ PVP",
        spin: "üöÄ SPIN",
        games: "Games",
        coin: "ü™ô Coin Flip",
        roulette: "üî´ Roulette",
        rps: "‚úåÔ∏è RPS",
        play: "PLAY",
        profile_name: "PLAYER",
        profile_location: "Stuttgart, DE üá©üá™",
        nav_pvp: "‚öîÔ∏è\nPVP",
        nav_games: "üé∞\nGAMES",
        nav_profile: "üë§\nPROFILE",
        lang_btn: "EN"
    }
};

let currentLang = "ru";

function applyLang() {
    const t = LANG[currentLang];

    online-text.innerText = t.online;
    pvp-add.innerText = t.pvp_add;
    spin-btn.innerText = t.spin;

    games-title.innerText = t.games;
    game-coin.innerText = t.coin;
    game-roulette.innerText = t.roulette;
    game-rps.innerText = t.rps;

    coin-play.innerText = t.play;
    roulette-play.innerText = t.play;
    rps-play.innerText = t.play;

    profile-name.innerText = t.profile_name;
    profile-location.innerText = t.profile_location;

    nav-pvp.innerText = t.nav_pvp;
    nav-games.innerText = t.nav_games;
    nav-profile.innerText = t.nav_profile;

    lang-btn.innerText = t.lang_btn;
}

lang-btn.onclick = () => {
    animateButton(lang-btn);
    currentLang = currentLang === "ru" ? "en" : "ru";
    applyLang();
};


/* ============================
   NAVIGATION (with animations)
   ============================ */

const screens = {
    pvp: screen-pvp,
    games: screen-games,
    profile: screen-profile
};

document.querySelectorAll(".nav-btn").forEach(btn => {
    btn.onclick = () => {
        animateButton(btn);

        // –ê–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞
        document.querySelectorAll(".nav-btn").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤
        Object.values(screens).forEach(s => s.classList.remove("active"));
        const target = screens[btn.dataset.target];
        target.classList.add("active");

        // –ê–Ω–∏–º–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞
        animateScreen(target);
    };
});


/* ============================
   WHEEL SPIN LOGIC (premium)
   ============================ */

spin-btn.onclick = () => {
    animateButton(spin-btn);

    spinWheel(document.querySelector(".wheel-wrap"), () => {
        console.log("Spin finished");
    });
};


/* ============================
   INITIALIZATION
   ============================ */

applyLang();
animateScreen(screen-pvp
<!-- Coin Flip Modal -->
<div id="coin-modal" class="fixed inset-0 bg-black/70 backdrop-blur-md hidden flex items-center justify-center z-50">
    <div class="glass p-6 rounded-2xl w-64 text-center">
        <div id="coin" class="mx-auto mb-6"
             style="width:120px; height:120px; border-radius:50%; background:linear-gradient(145deg,#1f1f1f,#0d0d0d); box-shadow:0 0 25px rgba(0,0,0,0.6);">
        </div>

        <p id="coin-result" class="text-lg font-bold mb-4 opacity-0"></p>

        <button id="coin-flip-btn" class="bg-blue-600 px-4 py-2 rounded-xl font-bold w-full mb-2">FLIP</button>
        <button id="coin-close" class="glass px-4 py-2 rounded-xl w-full">CLOSE</button>
    </div>
</div>
#coin {
    transform-style: preserve-3d;
    position: relative;
}

#coin::before, #coin::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 50%;
    backface-visibility: hidden;
}

#coin::before {
    background: radial-gradient(circle, #ffd700, #b8860b);
    transform: rotateY(0deg);
}

#coin::after {
    background: radial-gradient(circle, #c0c0c0, #808080);
    transform: rotateY(180deg);
}
/* ============================
   COIN FLIP ‚Äî PREMIUM ANIMATION
   ============================ */

const coinModal = document.getElementById("coin-modal");
const coin = document.getElementById("coin");
const coinResult = document.getElementById("coin-result");
const coinFlipBtn = document.getElementById("coin-flip-btn");
const coinClose = document.getElementById("coin-close");
const coinPlay = document.getElementById("coin-play");

// –æ—Ç–∫—Ä—ã—Ç—å –∏–≥—Ä—É
coinPlay.onclick = () => {
    coinModal.classList.remove("hidden");
    animateScreen(coinModal);
};

// –∑–∞–∫—Ä—ã—Ç—å –∏–≥—Ä—É
coinClose.onclick = () => {
    coinModal.classList.add("hidden");
};

// –ª–æ–≥–∏–∫–∞ –±—Ä–æ—Å–∫–∞
coinFlipBtn.onclick = () => {
    animateButton(coinFlipBtn);

    const isHeads = Math.random() > 0.5;
    const spins = 6 * 360 + (isHeads ? 0 : 180);

    coinResult.style.opacity = 0;

    gsap.to(coin, {
        rotationY: spins,
        duration: 2.2,
        ease: "expo.out",
        filter: "blur(6px)",
        onComplete: () => {
            gsap.to(coin, { filter: "blur(0px)", duration: 0.2 });

            coinResult.innerText = isHeads ? "HEADS" : "TAILS";

            gsap.fromTo(
                coinResult,
                { opacity: 0, scale: 0.6 },
                { opacity: 1, scale: 1, duration: 0.4, ease: "expo.out" }
            );

            // –≤—Å–ø—ã—à–∫–∞
            gsap.fromTo(
                coin,
                { boxShadow: "0 0 0px rgba(255,255,255,0)" },
                { boxShadow: "0 0 35px rgba(255,255,255,0.8)", duration: 0.2, yoyo: true, repeat: 1 }
            );
        }
    });
};
<!-- Roulette Modal -->
<div id="roulette-modal" class="fixed inset-0 bg-black/70 backdrop-blur-md hidden flex items-center justify-center z-50">
    <div class="glass p-6 rounded-2xl w-72 text-center">

        <div id="roulette-wheel" class="mx-auto mb-6 relative"
             style="width:220px; height:220px; border-radius:50%; overflow:hidden;">

            <!-- –°–µ–∫—Ç–æ—Ä–∞ -->
            <div class="roulette-sector" style="--i:0; background:#d61a81;">1</div>
            <div class="roulette-sector" style="--i:1; background:#6366f1;">2</div>
            <div class="roulette-sector" style="--i:2; background:#06b6d4;">3</div>
            <div class="roulette-sector" style="--i:3; background:#22c55e;">4</div>
            <div class="roulette-sector" style="--i:4; background:#f59e0b;">5</div>
            <div class="roulette-sector" style="--i:5; background:#ef4444;">6</div>

        </div>

        <p id="roulette-result" class="text-lg font-bold mb-4 opacity-0"></p>

        <button id="roulette-spin-btn" class="bg-blue-600 px-4 py-2 rounded-xl font-bold w-full mb-2">SPIN</button>
        <button id="roulette-close" class="glass px-4 py-2 rounded-xl w-full">CLOSE</button>
    </div>
</div>
#roulette-wheel {
    position: relative;
    transform-style: preserve-3d;
}

.roulette-sector {
    position: absolute;
    width: 50%;
    height: 50%;
    top: 50%;
    left: 50%;
    transform-origin: 0% 0%;
    transform: rotate(calc(var(--i) * 60deg)) skewY(-30deg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 900;
    color: white;
    font-size: 20px;
    opacity: 0.9;
}
/* ============================
   ROULETTE ‚Äî PREMIUM ANIMATION
   ============================ */

const rouletteModal = document.getElementById("roulette-modal");
const rouletteWheel = document.getElementById("roulette-wheel");
const rouletteResult = document.getElementById("roulette-result");
const rouletteSpinBtn = document.getElementById("roulette-spin-btn");
const rouletteClose = document.getElementById("roulette-close");
const roulettePlay = document.getElementById("roulette-play");

// –æ—Ç–∫—Ä—ã—Ç—å –∏–≥—Ä—É
roulettePlay.onclick = () => {
    rouletteModal.classList.remove("hidden");
    animateScreen(rouletteModal);
};

// –∑–∞–∫—Ä—ã—Ç—å –∏–≥—Ä—É
rouletteClose.onclick = () => {
    rouletteModal.classList.add("hidden");
};

// –ª–æ–≥–∏–∫–∞ –≤—Ä–∞—â–µ–Ω–∏—è
rouletteSpinBtn.onclick = () => {
    animateButton(rouletteSpinBtn);

    const winningSector = Math.floor(Math.random() * 6); // 0‚Äì5
    const spin = 360 * 8 + (360 / 6) * winningSector;

    rouletteResult.style.opacity = 0;

    gsap.to(rouletteWheel, {
        rotation: spin,
        duration: 4.5,
        ease: "expo.out",
        onComplete: () => {
            rouletteResult.innerText = "WIN: " + (winningSector + 1);

            gsap.fromTo(
                rouletteResult,
                { opacity: 0, scale: 0.6 },
                { opacity: 1, scale: 1, duration: 0.4, ease: "expo.out" }
            );

            // –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–µ–∫—Ç–æ—Ä–∞
            const sectors = document.querySelectorAll(".roulette-sector");
            sectors.forEach(s => s.style.boxShadow = "none");

            sectors[winningSector].style.boxShadow = "0 0 25px white";

            // –≤—Å–ø—ã—à–∫–∞
            gsap.fromTo(
                rouletteWheel,
                { filter: "brightness(1)" },
                { filter: "brightness(2)", duration: 0.15, yoyo: true, repeat: 1 }
            );
        }
    });
};
<!-- RPS Modal -->
<div id="rps-modal" class="fixed inset-0 bg-black/70 backdrop-blur-md hidden flex items-center justify-center z-50">
    <div class="glass p-6 rounded-2xl w-72 text-center">

        <h2 class="text-xl font-bold mb-4">RPS</h2>

        <div class="flex justify-center gap-4 mb-6">
            <div class="rps-btn glass p-4 rounded-xl text-3xl cursor-pointer" data-move="rock">‚úä</div>
            <div class="rps-btn glass p-4 rounded-xl text-3xl cursor-pointer" data-move="paper">‚úã</div>
            <div class="rps-btn glass p-4 rounded-xl text-3xl cursor-pointer" data-move="scissors">‚úåÔ∏è</div>
        </div>

        <p id="rps-result" class="text-lg font-bold mb-4 opacity-0"></p>

        <button id="rps-close" class="glass px-4 py-2 rounded-xl w-full">CLOSE</button>
    </div>
</div>
<.rps-btn {
    transition: 0.25s;
}

.rps-btn:hover {
    transform: scale(1.1);
}

.rps-btn.win {
    box-shadow: 0 0 25px #22c55e;
}

.rps-btn.lose {
    box-shadow: 0 0 25px #ef4444;
}
/* ============================
   RPS ‚Äî PREMIUM ANIMATION
   ============================ */

const rpsModal = document.getElementById("rps-modal");
const rpsBtns = document.querySelectorAll(".rps-btn");
const rpsResult = document.getElementById("rps-result");
const rpsClose = document.getElementById("rps-close");
const rpsPlay = document.getElementById("rps-play");

// –æ—Ç–∫—Ä—ã—Ç—å –∏–≥—Ä—É
rpsPlay.onclick = () => {
    rpsModal.classList.remove("hidden");
    animateScreen(rpsModal);
};

// –∑–∞–∫—Ä—ã—Ç—å –∏–≥—Ä—É
rpsClose.onclick = () => {
    rpsModal.classList.add("hidden");
};

// –ª–æ–≥–∏–∫–∞ RPS
const beats = {
    rock: "scissors",
    paper: "rock",
    scissors: "paper"
};

rpsBtns.forEach(btn => {
    btn.onclick = () => {
        animateButton(btn);

        // –æ—á–∏—Å—Ç–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
        rpsBtns.forEach(b => b.classList.remove("win", "lose"));

        const playerMove = btn.dataset.move;
        const moves = ["rock", "paper", "scissors"];
        const botMove = moves[Math.floor(Math.random() * 3)];

        let resultText = "";

        if (playerMove === botMove) {
            resultText = "DRAW";
        } else if (beats[playerMove] === botMove) {
            resultText = "YOU WIN";
            btn.classList.add("win");

            // –≤—Å–ø—ã—à–∫–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
            gsap.fromTo(
                btn,
                { filter: "brightness(1)" },
                { filter: "brightness(2)", duration: 0.2, yoyo: true, repeat: 1 }
            );

        } else {
            resultText = "YOU LOSE";

            // –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–π shake
            gsap.fromTo(
                btn,
                { x: -5 },
                { x: 5, duration: 0.1, repeat: 5, yoyo: true }
            );

            btn.classList.add("lose");
        }

        rpsResult.innerText = resultText;

        gsap.fromTo(
            rpsResult,
            { opacity: 0, scale: 0.6 },
            { opacity: 1, scale: 1, duration: 0.4, ease: "expo.out" }
        );
    };
});
/* ============================
   PVP ‚Äî FULL PREMIUM BLOCK
   ============================ */

const pvpAdd = document.getElementById("pvp-add");
const wheelTimer = document.getElementById("wheel-timer");

let pvpTime = 15;          // –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞—É–Ω–¥–∞
let pvpRunning = false;    // –∏–¥—ë—Ç –ª–∏ —Ä–∞—É–Ω–¥
let pvpPlayers = [];       // —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤
let pvpInterval = null;    // —Ç–∞–π–º–µ—Ä

// —Ç–µ—Å—Ç–æ–≤—ã–µ –∏–≥—Ä–æ–∫–∏
const PVP_POOL = [
    { name: "@Magikmoney", color: "#3b82f6" },
    { name: "@giftgambler", color: "#facc15" },
    { name: "@CryptoWolf", color: "#22c55e" },
    { name: "@TONplayer", color: "#ef4444" },
    { name: "@LuckyStrike", color: "#a855f7" }
];

// –∑–∞–ø—É—Å–∫ —Ä–∞—É–Ω–¥–∞
function startPvpRound() {
    if (pvpRunning) return;

    pvpRunning = true;
    pvpTime = 15;
    pvpPlayers = [];

    updateTimer();
    animateScreen(screen-pvp);

    // –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∏–≥—Ä–æ–∫
    pvpInterval = setInterval(() => {
        pvpTime--;
        updateTimer();

        if (pvpTime % 2 === 0) addRandomPlayer();

        if (pvpTime <= 0) finishPvpRound();
    }, 1000);
}

// –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
function updateTimer() {
    wheelTimer.innerText = "00:" + (pvpTime < 10 ? "0" + pvpTime : pvpTime);
}

// –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
function addRandomPlayer() {
    const player = PVP_POOL[Math.floor(Math.random() * PVP_POOL.length)];

    pvpPlayers.push(player);

    const block = document.createElement("div");
    block.className = "glass p-3 text-[10px] mb-2";
    block.style.borderLeft = `3px solid ${player.color}`;
    block.innerHTML = `${player.name}<br><span style="color:${player.color}">+${Math.floor(Math.random()*50)} TON</span>`;

    screen-pvp.prepend(block);

    gsap.fromTo(block, { opacity: 0, x: -20 }, { opacity: 1, x: 0, duration: 0.4, ease: "expo.out" });
}

// –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–∞
function finishPvpRound() {
    clearInterval(pvpInterval);
    pvpRunning = false;

    if (pvpPlayers.length === 0) return;

    const winner = pvpPlayers[Math.floor(Math.random() * pvpPlayers.length)];

    // –≤—Å–ø—ã—à–∫–∞ –∫–æ–ª–µ—Å–∞
    gsap.fromTo(
        ".wheel-wrap",
        { filter: "brightness(1)" },
        { filter: "brightness(2)", duration: 0.2, yoyo: true, repeat: 1 }
    );

    // –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
    const winBlock = document.createElement("div");
    winBlock.className = "glass p-4 text-center mt-4";
    winBlock.style.border = `2px solid ${winner.color}`;
    winBlock.innerHTML = `<b style="color:${winner.color}">${winner.name} WINS!</b>`;

    screen-pvp.append(winBlock);

    gsap.fromTo(winBlock, { opacity: 0, scale: 0.7 }, { opacity: 1, scale: 1, duration: 0.5, ease: "expo.out" });

    // –∞–≤—Ç–æ‚Äë—Ä–µ—Å—Ç–∞—Ä—Ç —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        winBlock.remove();
        startPvpRound();
    }, 3000);
}

// –∫–Ω–æ–ø–∫–∞ +PVP
pvpAdd.onclick = () => {
    animateButton(pvpAdd);
    startPvpRound();
};
/* ============================
   PART 9 ‚Äî FINAL INTEGRATION
   ============================ */

/* ----------------------------
   –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–¥–∞–ª–æ–∫
----------------------------- */

const modals = [
    document.getElementById("coin-modal"),
    document.getElementById("roulette-modal"),
    document.getElementById("rps-modal")
];

// –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω
modals.forEach(modal => {
    modal.addEventListener("click", e => {
        if (e.target === modal) {
            closeAllModals();
        }
    });
});

// –∑–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –º–æ–¥–∞–ª–æ–∫
function closeAllModals() {
    modals.forEach(m => m.classList.add("hidden"));
}

/* ----------------------------
   –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω—ã—Ö –∫–ª–∏–∫–æ–≤
----------------------------- */

let clickLock = false;

function lockClicks(duration = 600) {
    clickLock = true;
    setTimeout(() => clickLock = false, duration);
}

/* ----------------------------
   –ü–ª–∞–≤–Ω—ã–µ –º–æ–¥–∞–ª–∫–∏
----------------------------- */

function openModal(modal) {
    if (clickLock) return;
    lockClicks();

    modal.classList.remove("hidden");
    gsap.fromTo(
        modal.querySelector(".glass"),
        { opacity: 0, scale: 0.7, y: 20 },
        { opacity: 1, scale: 1, y: 0, duration: 0.35, ease: "expo.out" }
    );
}

function closeModal(modal) {
    if (clickLock) return;
    lockClicks();

    gsap.to(modal.querySelector(".glass"), {
        opacity: 0,
        scale: 0.7,
        y: 20,
        duration: 0.25,
        ease: "expo.in",
        onComplete: () => modal.classList.add("hidden")
    });
}

/* ----------------------------
   –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–∞–ª–æ–∫ –∏–≥—Ä
----------------------------- */

// Coin Flip
coinPlay.onclick = () => openModal(coinModal);
coinClose.onclick = () => closeModal(coinModal);

// Roulette
roulettePlay.onclick = () => openModal(rouletteModal);
rouletteClose.onclick = () => closeModal(rouletteModal);

// RPS
rpsPlay.onclick = () => openModal(rpsModal);
rpsClose.onclick = () => closeModal(rpsModal);

/* ----------------------------
   –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
----------------------------- */

document.querySelectorAll(".nav-btn").forEach(btn => {
    btn.addEventListener("click", () => {
        if (clickLock) return;
        lockClicks(400);
    });
});

/* ----------------------------
   –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
----------------------------- */

// –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
document.body.style.userSelect = "none";

// –ø–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª
document.documentElement.style.scrollBehavior = "smooth";

// —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏–π
gsap.config({
    force3D: true,
    autoSleep: 60
});
/* ============================
   PART 10 ‚Äî POLISH & ENHANCEMENTS
   ============================ */

/* ----------------------------
   –£–ª—É—á—à–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
----------------------------- */

document.querySelectorAll("button").forEach(btn => {
    btn.style.transition = "0.25s";
    btn.addEventListener("mouseenter", () => {
        gsap.to(btn, { scale: 1.05, duration: 0.15, ease: "expo.out" });
    });
    btn.addEventListener("mouseleave", () => {
        gsap.to(btn, { scale: 1.0, duration: 0.15, ease: "expo.out" });
    });
});

/* ----------------------------
   –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ç–µ–∫–ª—è–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤
----------------------------- */

document.querySelectorAll(".glass").forEach(gl => {
    gl.style.transition = "0.3s";
    gl.addEventListener("mouseenter", () => {
        gsap.to(gl, { boxShadow: "0 0 25px rgba(255,255,255,0.15)", duration: 0.25 });
    });
    gl.addEventListener("mouseleave", () => {
        gsap.to(gl, { boxShadow: "0 0 0 rgba(0,0,0,0)", duration: 0.25 });
    });
});

/* ----------------------------
   –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–ª–µ—Å–∞
----------------------------- */

gsap.set(".wheel-wrap", {
    filter: "drop-shadow(0 0 15px rgba(0,0,0,0.6))"
});

function enhanceWheelPulse() {
    gsap.fromTo(
        ".wheel-wrap",
        { scale: 1 },
        { scale: 1.02, duration: 1.5, ease: "power1.inOut", yoyo: true, repeat: -1 }
    );
}

enhanceWheelPulse();

/* ----------------------------
   –£–ª—É—á—à–µ–Ω–∏–µ –º–æ–¥–∞–ª–æ–∫
----------------------------- */

modals.forEach(modal => {
    modal.style.transition = "0.25s";
    modal.querySelector(".glass").style.transition = "0.25s";

    modal.addEventListener("mouseenter", () => {
        gsap.to(modal.querySelector(".glass"), {
            boxShadow: "0 0 35px rgba(255,255,255,0.15)",
            duration: 0.3
        });
    });

    modal.addEventListener("mouseleave", () => {
        gsap.to(modal.querySelector(".glass"), {
            boxShadow: "0 0 0 rgba(0,0,0,0)",
            duration: 0.3
        });
    });
});

/* ----------------------------
   –£–ª—É—á—à–µ–Ω–∏–µ –∞–¥–∞–ø—Ç–∏–≤–∞
----------------------------- */

function adjustForMobile() {
    if (window.innerWidth < 420) {
        document.body.style.zoom = "0.92";
    } else {
        document.body.style.zoom = "1";
    }
}

window.addEventListener("resize", adjustForMobile);
adjustForMobile();

/* ----------------------------
   –£–ª—É—á—à–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
----------------------------- */

document.body.style.textRendering = "optimizeLegibility";
document.body.style.webkitFontSmoothing = "antialiased";

/* ----------------------------
   –ì–ª–æ–±–∞–ª—å–Ω—ã–π glow —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –≤—ã–∏–≥—Ä—ã—à–µ
----------------------------- */

function globalWinFlash() {
    gsap.fromTo(
        "body",
        { filter: "brightness(1)" },
        { filter: "brightness(1.4)", duration: 0.15, yoyo: true, repeat: 1 }
    );
}

// –ø–æ–¥–∫–ª—é—á–∞–µ–º –∫ PVP –ø–æ–±–µ–¥–µ
const oldFinish = finishPvpRound;
finishPvpRound = function () {
    globalWinFlash();
    oldFinish();
};
